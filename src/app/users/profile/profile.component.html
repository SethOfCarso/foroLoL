<div class="mybody">
  <div class="profile-container">
    <div class="profile-image-container mt-5">
      <img src="{{environment}}/api/image/{{user.urlImage}}"
        class="profile-image rounded-circle" alt="Profile image">
      <div class="profile-image-edit rounded-circle">
        <a href="#modalChangeImage" class="profile-image-edit-link" data-toggle="modal"
          data-target="#modalChangeImage"><i class="far fa-edit fa-2x"></i></a>
      </div>
    </div>
    
    <h1 class="text-center mt-1">{{user.username}}
      <button type="button" class="btn" data-toggle="modal" data-target="#modalChangeUsername">
        <i class="fas fa-edit"></i>
      </button>
    </h1> 


    <h3 class="text-center mt-1">Clasificación</h3>
    
    <h6 class="text-center mt-1">Rango en el foro</h6>
    <div class="profile-image-container-rank">
      <img src="{{userRankImage}}" alt="imagen de rango" class="profile-image-rank">
    </div>

    <div class="center">
      <span class="mt-3">Correo: </span><span>{{user.email}}</span>
      <button type="button" class="btn" data-toggle="modal" data-target="#modalChangeEmail">
        <i class="fas fa-edit"></i>
      </button>
      <br>
      <span class="">Contraseña: *******</span>
      <button type="button" class="btn" data-toggle="modal" data-target="#modalChangePassword">
        <i class="fas fa-edit"></i>
      </button>
    </div>
  </div>
  
  <div class="container">
    <div class="row">
      <div class="col profile-container profile-historical-container">
        <h3 class="text-center">Historial de LOL</h3>
        <app-user-matches></app-user-matches>
      </div>
      
      <div class="col profile-container profile-historical-container">
        <h3 class="text-center">Actividad en el foro</h3>
        <table class="table">
          <tr *ngFor="let post of postByUser">
            <td>
              <strong> {{post.title}} </strong>
            </td>
            <td> 0  respuestas</td>
            <td>
              <a [routerLink]="['/home/post-detail', post.idPost  ]">
                
                <i class="fas fa-external-link-alt"></i>
              </a>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- Change user image -->
  <div class="modal fade" id="modalChangeImage" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cambiar imagen de perfil</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-upload-image (successful)="imageChanged($event)"></app-upload-image>
        </div>
      </div>
    </div>
  </div>

  <!-- Change email -->
  <div class="modal fade" id="modalChangeEmail" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cambiar correo</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-change-email (successful)="emailChanged($event)"></app-change-email>
        </div>
      </div>
    </div>
  </div>

  <!-- Change password -->
  <div class="modal fade" id="modalChangePassword" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cambiar contraseña</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-change-password (successful)="passwordChanged($event)"></app-change-password>
        </div>
      </div>
    </div>
  </div>

  <!-- Change username -->
  <div class="modal fade" id="modalChangeUsername" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cambiar nombre de usuario</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-change-username (successful)="usernameChanged($event)"></app-change-username>
        </div>
      </div>
    </div>
  </div>
</div>
